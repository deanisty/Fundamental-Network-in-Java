## 2.2.1 网卡
一台互联网上的主机通过一个或者多个网卡联入互联网，网卡是硬件设备,通常也被称作控制卡（网络接口控制器或者NICs）。每个物理网卡可以有一个或者多个IP地址，本章接下来的部分会对此详细描述。因此，每个互联网主机至少拥有一个IP地址，2.3节会对此展开讲解。


# 2.2.2 IP地址
每一个互联网主机可以通过一个定宽的IP地址来识别，IP地址本身是一个数字，由“网络或子网”部分和“主机”部分组成，网络部分唯一标识了互联网的一个子网络，主机部分唯一标识了子网络内部的一台主机。

在IPV4中，IP地址由32个二进制位表示，用“点分十进制”的方式书写，被分成4个8bit的部分，比如：192.168.1.24或127.0.0.1。

在IPV6中，IP地址由128个二进制位表示，书写时，每8bit之间用冒号隔开，比如，0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:1，两个连续的冒号也可以习惯性的代表省略的尽可能多的0，所以这个地址也可以简写成 ::1。

# 2.2.3 域名
域名系统或者称作DNS使用一套字母形式的命名系统作为对数值形式的IP地址的补充，它将主机的名称划分到“域名”中，并且提供了IP地址和主机名之间的映射，这个过程也称作“域名解析”。


# 2.2.4 端口
每个互联网的主机内都拥有大量的IP“端口号”，用以指定主机内单独的某个服务，端口号使用16位二进制表示，因此它的范围是1-65535。
有很多端口号属于“预分配”端口号：1-1023的范围被指定为“熟知端口号”，1024-49151(0x0400-0xbfff)范围被指定为“已注册端口号“。在某些操作系统中，服务端需要特殊的权限才可以使用“熟知端口号”，比如类Unix操作系统中需要超级用户权限。

通过{IP,port}二元组可以定位到某个特定的TCP和UDP服务，这个二元组也被称作“socket地址”。

# 2.2.5 sockets
socket代表了通信的一端在主机中的抽象，它将本地主机的IP地址和端口号关联起来。在Java中，socket被java.net包中的以下类表示：Socket，ServerSocket，DatagramSocket，MultiCastSocket。

# 2.2.6 网络地址相关类
Java中使用 java.net.InetAdress类来表示IP地址，端口号在Java中使用1-65535范围内的整型表示，1024及以上的端口更加常用。IP socket地址在Java中通过{IP地址，端口号}二元组表示，或者在JDK1.4中使用SocketAddress类封装了这个二元组。

表格2.1解释了Java网络地址相关类的用途和使用方式

| Name      | Description |
| ----------- | ----------- |
| InetAddress      | 代表一个IP地址或者一个解析后的主机名：用于远程地址。如果主机名解析失败，这个对象无法被构造。|
| InetSocketAddress extends SocketAddress   | 代表一个IP socket地址，例如，一个{IP地址，端口} 对，或者 {主机名, 端口}对。如果是后一种情况则会在构造这个对象时尝试解析主机名，如果某些情况导致解析失败这个对象依然可用，比如当通过代理连接时。也可以只通过端口号来构造这个对象，此时“通配”的本地IP地址会被使用，它代表了所有本地的网络接口|
| NetworkInterface| 代表了一个本地的网络接口，由一个名称（例如：leo）和与它关联的IP地址列表组成。用于在多播时识别本地的网络接口。        |
>Table 2.1 Network Address Classes

自JDK1.4开始，InetAddress类是一个抽象类，并且有两个类继承自它：分别是代表IPV4的 Inet4Address 和 代表 IPV6的 Inet6Address。不过你不必关心这些子类的存在，他们无法被构造，你只能通过 InetAddress 的静态方法来获得他们的实例，而且通常情况下把他们看作仅仅是InetAddress的实例更加得当。从编程人员的角度来说，这两个子类唯一的不同点是 Inet6Address.isIpV4CompatibleAddress 方法，当IP地址是兼容IPV4的IpV6地址时这个方法返回true,当IP地址是IPV4地址时返回false。Java代码很少需要关心这一点。


# 2.2.7 特殊IP地址
除了网卡所拥有的IP地址之外，互联网主机还有两个额外的仅仅本机内部可用的IP地址，如表格2.2所示。

| Name      |IPV4|IPV6| Description |
| ----------- |----|----| ----------- |
| loopback   |127.0.0.1 |::1| 当主机没有外部域名或者外网IP可用时，此IP地址可以用于定位本机服务，比如那些只是在单台主机内部访问的服务       |
| wildcard   |0.0.0.0   |::0| 用于在创建socket时指定这个socket需要绑定到所有本地IP地址而不是某一个IP地址，这个很常用，在Java中，通过创建socket时传入空的InetAddress或者null来达到这个目的        |
>Table 2.2 Special IP Address

InetAddress类提供了很多方法用于查询地址的属性。如表格2.3所示：

| Name        |Meaning if 'true'|
| ----------- |-----------------------|
| isAnyLocalAddress   | 通配地址 见表格 2.2 |
| isLinkLocalAddress   | 本地链路单播地址, IPV4未定义，IPV6中表示以 F6:80 开头的地址   |
| isLoopback | 本地回环地址 见表格 2.2     |
| isMCGlobal | 全局范围多播地址    |
| isMCLinkLocal | 本地链路范围多播地址    |
| isMCNodeLocal | 节点本地范围多播地址    |
| isMCOrgLocal | 组织本地范围多播地址    |
| isMCSiteLocal | 站点本地范围多播地址    |
| isMultiCastAddress | 多播地址。IPV4中表示在地址范围 224.0.0.0-239.255.255.255中的地址，IPV6中表示以 FF 开头的地址   |
| isSiteLocal | 站点本地单播地址。IPV4中未定义，IPV6中表示以 FE:C0 开头的地址   |
>Table 2.3 InetAddress Methods

isMCGlobal, isMCLinkLocal等方法返回的有关多播地址范围的信息会在 11.1.4 小节中描述。